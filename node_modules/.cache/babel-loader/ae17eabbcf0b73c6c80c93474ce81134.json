{"ast":null,"code":"var _jsxFileName = \"/home/muhammad/dumbflix-frontend/src/pages/DetailMovie.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getDetailsFilm } from '../redux/actions/film';\nimport PropTypes from 'prop-types';\nimport VideoThumbnail from '../components/VideoThumbnail/VideoThumbnail';\nimport Description from '../components/MovieDetail/Description';\nimport Episode from '../components/MovieDetail/Episode';\nimport DetailSkeleton from '../components/Skeleton/DetailSkeleton';\nimport './css/DetailMovie.css';\nimport moviesThumbnail from '../img/videothumbnail/video2.png';\nimport tvThumbnail from '../img/videothumbnail/video1.png';\n\nconst DetailMovie = ({\n  getDetailsFilm,\n  match,\n  film: {\n    filmDetails,\n    loading\n  },\n  auth: {\n    user\n  }\n}) => {\n  const [loadingSkeleton, setLoadingSkeleton] = useState(true);\n  const [playNow, setPlayNow] = useState(null);\n\n  const handlePlayNow = url => {\n    setPlayNow(url);\n  };\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setLoadingSkeleton(false);\n    }, 1200);\n    return () => clearTimeout(timer);\n  }, []);\n  useEffect(() => {\n    getDetailsFilm(match.params.id);\n  }, [getDetailsFilm]);\n  let history = useHistory();\n  let role = 'admin';\n\n  const openAddEpisode = () => {\n    history.push('/add-episode');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 3\n    }\n  }, loadingSkeleton || filmDetails === null || loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DetailSkeleton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 6\n    }\n  })) : user.subscribe || user.role === 1 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '70px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(VideoThumbnail, {\n    handlePlayNow: handlePlayNow,\n    defaultUrl: filmDetails.episodes[0].linkFilm,\n    playNow: playNow,\n    thumbnail: filmDetails.category.id == 1 ? tvThumbnail : moviesThumbnail,\n    filmDetails: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }), role == 'admin' && filmDetails.category.id == 1 ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '50px',\n      position: 'relative'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn-merah\",\n    style: {\n      float: 'right',\n      width: '12em',\n      top: '1em',\n      right: '2em',\n      marginBottom: '3em'\n    },\n    onClick: () => openAddEpisode(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, \"Add Episode\")) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Description, {\n    filmDetails: filmDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(Episode, {\n    name: filmDetails.title,\n    episodes: filmDetails.episodes,\n    handlePlayNow: handlePlayNow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 8\n    }\n  })))) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '300px',\n      color: 'white',\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, \"Anda belum daftar\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"pointer\",\n    onClick: () => {\n      history.push('/payment');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, \"Klik disini untuk mendaftar\"))));\n};\n\nDetailMovie.propTypes = {\n  getDetailsFilm: PropTypes.func.isRequired,\n  film: PropTypes.object.isRequired,\n  auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  film: state.film,\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, {\n  getDetailsFilm\n})(DetailMovie);","map":{"version":3,"sources":["/home/muhammad/dumbflix-frontend/src/pages/DetailMovie.js"],"names":["React","useEffect","useState","useHistory","connect","getDetailsFilm","PropTypes","VideoThumbnail","Description","Episode","DetailSkeleton","moviesThumbnail","tvThumbnail","DetailMovie","match","film","filmDetails","loading","auth","user","loadingSkeleton","setLoadingSkeleton","playNow","setPlayNow","handlePlayNow","url","timer","setTimeout","clearTimeout","params","id","history","role","openAddEpisode","push","subscribe","marginTop","episodes","linkFilm","category","height","position","float","width","top","right","marginBottom","title","color","textAlign","propTypes","func","isRequired","object","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getDetailsFilm } from '../redux/actions/film';\nimport PropTypes from 'prop-types';\n\nimport VideoThumbnail from '../components/VideoThumbnail/VideoThumbnail';\nimport Description from '../components/MovieDetail/Description';\nimport Episode from '../components/MovieDetail/Episode';\nimport DetailSkeleton from '../components/Skeleton/DetailSkeleton';\nimport './css/DetailMovie.css';\n\nimport moviesThumbnail from '../img/videothumbnail/video2.png';\nimport tvThumbnail from '../img/videothumbnail/video1.png';\n\nconst DetailMovie = ({\n\tgetDetailsFilm,\n\tmatch,\n\tfilm: { filmDetails, loading },\n\tauth: { user }\n}) => {\n\tconst [ loadingSkeleton, setLoadingSkeleton ] = useState(true);\n\tconst [ playNow, setPlayNow ] = useState(null);\n\n\tconst handlePlayNow = (url) => {\n\t\tsetPlayNow(url);\n\t};\n\n\tuseEffect(() => {\n\t\tconst timer = setTimeout(() => {\n\t\t\tsetLoadingSkeleton(false);\n\t\t}, 1200);\n\n\t\treturn () => clearTimeout(timer);\n\t}, []);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tgetDetailsFilm(match.params.id);\n\t\t},\n\t\t[ getDetailsFilm ]\n\t);\n\n\tlet history = useHistory();\n\tlet role = 'admin';\n\n\tconst openAddEpisode = () => {\n\t\thistory.push('/add-episode');\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t{loadingSkeleton || filmDetails === null || loading ? (\n\t\t\t\t<div>\n\t\t\t\t\t<DetailSkeleton />\n\t\t\t\t</div>\n\t\t\t) : user.subscribe || user.role === 1 ? (\n\t\t\t\t<div>\n\t\t\t\t\t<div style={{ marginTop: '70px' }}>\n\t\t\t\t\t\t<VideoThumbnail\n\t\t\t\t\t\t\thandlePlayNow={handlePlayNow}\n\t\t\t\t\t\t\tdefaultUrl={filmDetails.episodes[0].linkFilm}\n\t\t\t\t\t\t\tplayNow={playNow}\n\t\t\t\t\t\t\tthumbnail={\n\t\t\t\t\t\t\t\tfilmDetails.category.id == 1 ? (\n\t\t\t\t\t\t\t\t\ttvThumbnail\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\tmoviesThumbnail\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfilmDetails\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{role == 'admin' && filmDetails.category.id == 1 ? (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\theight: '50px',\n\t\t\t\t\t\t\t\t\tposition: 'relative'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"btn-merah\"\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tfloat: 'right',\n\t\t\t\t\t\t\t\t\t\twidth: '12em',\n\t\t\t\t\t\t\t\t\t\ttop: '1em',\n\t\t\t\t\t\t\t\t\t\tright: '2em',\n\t\t\t\t\t\t\t\t\t\tmarginBottom: '3em'\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={() => openAddEpisode()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tAdd Episode\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t<div className=\"details\">\n\t\t\t\t\t\t\t<Description filmDetails={filmDetails} />\n\n\t\t\t\t\t\t\t<Episode\n\t\t\t\t\t\t\t\tname={filmDetails.title}\n\t\t\t\t\t\t\t\tepisodes={filmDetails.episodes}\n\t\t\t\t\t\t\t\thandlePlayNow={handlePlayNow}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmarginTop: '300px',\n\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\ttextAlign: 'center'\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<p>Anda belum daftar</p>\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tclassName=\"pointer\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\thistory.push('/payment');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tKlik disini untuk mendaftar\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nDetailMovie.propTypes = {\n\tgetDetailsFilm: PropTypes.func.isRequired,\n\tfilm: PropTypes.object.isRequired,\n\tauth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n\tfilm: state.film,\n\tauth: state.auth\n});\n\nexport default connect(mapStateToProps, { getDetailsFilm })(DetailMovie);\n"]},"metadata":{},"sourceType":"module"}